---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - next.config.ts
  - eslint.config.mjs
  - .gitignore
  - src/domain/.gitkeep
  - src/application/.gitkeep
  - src/infrastructure/.gitkeep
  - src/presentation/.gitkeep
autonomous: true

must_haves:
  truths:
    - "Next.js dev server starts without errors"
    - "TypeScript compiles with strict mode enabled"
    - "Path aliases resolve correctly (@/domain, @/application, etc.)"
    - "Clean architecture folders exist and are importable"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next"
    - path: "tsconfig.json"
      provides: "TypeScript configuration with path aliases"
      contains: "@/domain"
    - path: "src/domain/.gitkeep"
      provides: "Domain layer directory"
    - path: "src/application/.gitkeep"
      provides: "Application layer directory"
    - path: "src/infrastructure/.gitkeep"
      provides: "Infrastructure layer directory"
    - path: "src/presentation/.gitkeep"
      provides: "Presentation layer directory"
  key_links:
    - from: "tsconfig.json"
      to: "src/*"
      via: "path aliases"
      pattern: "@/domain|@/application|@/infrastructure|@/presentation"
---

<objective>
Scaffold Next.js project and establish clean architecture folder structure with TypeScript path aliases.

Purpose: Create the foundational project structure that all subsequent phases build upon. Clean architecture enables separation of concerns and testability.

Output: Working Next.js project with src/domain, src/application, src/infrastructure, src/presentation directories and configured path aliases.
</objective>

<execution_context>
@/Users/arxherre/.claude/get-shit-done/workflows/execute-plan.md
@/Users/arxherre/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js Project</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    eslint.config.mjs
    app/layout.tsx
    app/page.tsx
    .gitignore
  </files>
  <action>
Run create-next-app in the project root with these options:
```bash
npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --turbopack --yes
```

After scaffolding:

1. Update tsconfig.json to enable strict mode and add clean architecture path aliases:
   - Set "strict": true
   - Add paths for @/domain/*, @/application/*, @/infrastructure/*, @/presentation/*
   - Keep existing @/* alias for backwards compatibility

2. Update next.config.ts (NOT .js - Next.js 16 uses TypeScript config):
   - Ensure it exports a valid Next.js config object
   - No special configuration needed for Phase 1

3. Verify eslint.config.mjs exists (flat config is default in Next.js 16)

4. Update .gitignore to include:
   - /storage/originals/*
   - /storage/processed/*
   - !/storage/**/.gitkeep
   - .env.local
   - *.db
   - *.sqlite
  </action>
  <verify>
Run `npm run dev` and verify server starts on localhost:3000.
Run `npx tsc --noEmit` and verify no TypeScript errors.
Check tsconfig.json contains "strict": true and all four path aliases.
  </verify>
  <done>
Next.js dev server runs without errors. TypeScript strict mode enabled. Path aliases configured for all four clean architecture layers.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Clean Architecture Folder Structure</name>
  <files>
    src/domain/.gitkeep
    src/domain/entities/.gitkeep
    src/domain/repositories/.gitkeep
    src/application/.gitkeep
    src/application/services/.gitkeep
    src/infrastructure/.gitkeep
    src/infrastructure/database/.gitkeep
    src/infrastructure/storage/.gitkeep
    src/infrastructure/config/.gitkeep
    src/presentation/.gitkeep
    src/presentation/components/.gitkeep
    src/presentation/hooks/.gitkeep
  </files>
  <action>
Create the clean architecture directory structure inside src/:

```
src/
  domain/
    entities/        # Photo.ts, Album.ts (business objects)
    repositories/    # Repository interfaces (contracts)
  application/
    services/        # PhotoService.ts, AlbumService.ts (use cases)
  infrastructure/
    database/        # Drizzle schema, client, repository implementations
    storage/         # File system operations
    config/          # Environment validation
  presentation/
    components/      # Shared React components
    hooks/           # Custom React hooks
```

For each directory:
1. Create the directory
2. Add an empty .gitkeep file so the directory is tracked in git

Do NOT create index.ts files yet - those come in Plan 02 when we have actual exports.

The directory structure enforces clean architecture:
- domain: Zero external dependencies, pure business logic
- application: Orchestrates domain, depends only on domain
- infrastructure: Implements interfaces defined in domain
- presentation: React components, depends on application services
  </action>
  <verify>
Run `ls -R src/` and verify all directories exist.
Each directory contains a .gitkeep file.
  </verify>
  <done>
All clean architecture directories created: domain/entities, domain/repositories, application/services, infrastructure/database, infrastructure/storage, infrastructure/config, presentation/components, presentation/hooks.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` - Server starts on localhost:3000
2. `npx tsc --noEmit` - No TypeScript errors
3. `ls src/domain src/application src/infrastructure src/presentation` - All directories exist
4. `grep -q '"strict": true' tsconfig.json && echo "Strict mode enabled"` - Returns "Strict mode enabled"
5. `grep -q '@/domain' tsconfig.json && echo "Path aliases configured"` - Returns "Path aliases configured"
</verification>

<success_criteria>
- Next.js 16 project scaffolded with TypeScript, Tailwind, ESLint, App Router
- TypeScript strict mode enabled in tsconfig.json
- Path aliases configured: @/domain/*, @/application/*, @/infrastructure/*, @/presentation/*
- Clean architecture folder structure created with proper subdirectories
- Development server runs without errors
- Project compiles without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
