---
phase: 08-lightbox
plan: 02
type: execute
wave: 2
depends_on: ["08-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Lightbox opens when clicking any photo in album grid"
    - "Navigation arrows appear on hover (desktop)"
    - "Swipe gestures navigate photos (mobile)"
    - "Photo descriptions display correctly"
    - "Close button (X) dismisses lightbox"
    - "Keyboard navigation functions correctly"
  artifacts: []
  key_links: []
---

<objective>
Visually verify the complete lightbox experience across desktop and mobile viewports.

Purpose: Confirm the lightbox implementation meets the phase requirements and user experience decisions from CONTEXT.md before marking the phase complete.

Output: Human verification that all lightbox behaviors work correctly.
</objective>

<execution_context>
@/Users/arxherre/.claude/get-shit-done/workflows/execute-plan.md
@/Users/arxherre/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/08-lightbox/08-CONTEXT.md
@.planning/phases/08-lightbox/08-01-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete lightbox implementation with YARL library:
    - PhotoLightbox component with solid black background
    - AlbumGalleryClient with dynamic import
    - Album detail page refactored for lightbox integration
    - Keyboard navigation (arrow keys, escape)
    - Touch/swipe gestures for mobile
    - Photo description display via Captions plugin
  </what-built>
  <how-to-verify>
    **Prerequisites:**
    - Dev server running (`npm run dev`)
    - At least one published album with photos (some with descriptions)

    **Desktop Verification:**
    1. Navigate to http://localhost:3000/albums
    2. Click an album to view the photo grid
    3. Click any photo - verify:
       - Lightbox opens with solid black background
       - Photo fits within viewport with breathing room (doesn't touch edges)
       - Close button (X) visible in top-right corner
    4. Hover near left/right edges - verify navigation arrows appear
    5. Click arrows to navigate - verify next/previous photos load
    6. Press Right Arrow key - verify navigation to next photo
    7. Press Left Arrow key - verify navigation to previous photo
    8. Press Escape - verify lightbox closes
    9. Reopen lightbox on a photo WITH a description - verify description displays centered below photo
    10. Click the X button - verify lightbox closes
    11. Click photo thumbnail directly (not on background) - verify no accidental close

    **Mobile Verification (Chrome DevTools):**
    12. Open Chrome DevTools (F12)
    13. Toggle device toolbar (Ctrl+Shift+M)
    14. Select iPhone or Android device preset
    15. Refresh the page
    16. Click a photo to open lightbox
    17. Swipe left - verify navigation to next photo
    18. Swipe right - verify navigation to previous photo
    19. Tap X button - verify lightbox closes

    **Edge Cases:**
    20. Open album with single photo - verify no navigation arrows
    21. Navigate to last photo, press Right Arrow - verify it wraps to first (or stops gracefully)
    22. Navigate to first photo, press Left Arrow - verify it wraps to last (or stops gracefully)

  </how-to-verify>
  <resume-signal>
    Type "approved" if all checks pass, or describe any issues found.
  </resume-signal>
</task>

</tasks>

<verification>
Human has confirmed:
- Lightbox opens correctly on photo click
- Solid black background per design decision
- Photo contained within viewport with padding
- Navigation works (keyboard + touch)
- Photo descriptions display when present
- Close behavior works (X button only, no click-outside)
</verification>

<success_criteria>

- [ ] Desktop: Click-to-open works
- [ ] Desktop: Keyboard navigation works (arrows + escape)
- [ ] Desktop: Hover-triggered navigation arrows appear
- [ ] Desktop: Photo descriptions display correctly
- [ ] Mobile: Swipe gestures navigate photos
- [ ] Mobile: X button closes lightbox
- [ ] Visual: Solid black background
- [ ] Visual: Photo fits with breathing room
- [ ] User approval received
      </success_criteria>

<output>
After completion, create `.planning/phases/08-lightbox/08-02-SUMMARY.md`
</output>
